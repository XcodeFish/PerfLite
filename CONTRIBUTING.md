# PerfLite 贡献指南

感谢您考虑为 PerfLite 项目做出贡献！无论是提交问题、改进文档、提出新功能还是提交代码，我们都非常欢迎您的参与。

## 行为准则

参与本项目的所有贡献者都需要尊重其他社区成员，遵守基本的开源社区礼仪，保持友善和建设性的交流。

## 如何开始贡献

### 提交问题 (Issues)

如果您发现了bug或者有新功能建议，可以通过以下步骤提交issue：

1. 检查已有的issue，避免重复提交
2. 使用提供的issue模板填写信息（如果有）
3. 对于bug报告，请提供：
   - 复现步骤
   - 预期行为
   - 实际行为
   - PerfLite版本
   - 浏览器/环境信息
   - 如可能，提供最小复现示例
4. 对于功能请求，请描述：
   - 您的需求场景
   - 可能的实现方案

### 提交代码

1. Fork本仓库
2. 创建您的特性分支：`git checkout -b feature/my-feature`
3. 进行您的修改
4. 确保代码通过测试：`pnpm test`
5. 提交您的改动：`git commit -m 'feat: 添加某某功能'`
6. 推送到分支：`git push origin feature/my-feature`
7. 提交Pull Request

## 开发规范

### 分支命名

- `main`: 主分支，用于发布
- `develop`: 开发分支
- `feature/*`: 新功能分支
- `fix/*`: 修复bug分支
- `docs/*`: 文档更新分支

### 提交信息规范

我们使用[约定式提交](https://www.conventionalcommits.org/zh-hans/)规范，格式为：

```
<类型>[可选的作用域]: <描述>

[可选的正文]

[可选的脚注]
```

常用的类型包括：

- `feat`: 新功能
- `fix`: 修复bug
- `docs`: 文档变更
- `style`: 代码风格调整（不影响代码运行的变动）
- `refactor`: 代码重构（既不是新增功能，也不是修复bug的代码变动）
- `perf`: 性能优化
- `test`: 添加测试或修改已有测试
- `build`: 构建系统或外部依赖变更
- `ci`: CI配置文件和脚本变更
- `chore`: 其他不修改源代码或测试文件的变更
- `revert`: 回退之前的提交

### 代码风格

- 使用TypeScript编写
- 遵循项目已有的代码规范
- 使用2个空格进行缩进
- 使用单引号定义字符串
- 箭头函数参数使用括号
- 每行代码不超过100个字符

VSCode用户可以使用提供的`.editorconfig`和`.eslintrc`配置进行自动格式化。

### 测试要求

- 所有新功能必须包含单元测试
- 修复bug时，应添加回归测试
- 代码合并前必须通过所有测试
- 总体测试覆盖率不应下降

## 开发流程

### 环境设置

1. 确保您的系统安装了Node.js 18+，Rust 1.70+和wasm-bindgen-cli
2. 克隆您fork的仓库并进入项目目录
3. 安装依赖：`pnpm install`
4. 构建WASM模块：`cd rust && ./build.sh && cd ..`
5. 启动开发服务器：`pnpm dev`

### 开发测试

1. 实现您的功能或修复
2. 编写单元测试
3. 运行测试：`pnpm test`
4. 确保代码通过linting：`pnpm lint`

### 文档

- 更新相关文档反映您的变更
- 确保代码中的注释是最新的
- 必要时更新README.md和API文档

## 发布流程

项目维护者会定期合并PR并发布新版本。版本号遵循[语义化版本](https://semver.org/lang/zh-CN/)规范。

## 社区

- 如果您需要帮助或有疑问，请创建issue或在相关issue下评论
- 欢迎分享您使用PerfLite的经验和反馈

感谢您的贡献，让PerfLite变得更好！
